#!/usr/bin/python3

from ctf_WK_grammar import *

############################ GRAMMAR 1:   a(aa)*      #####################################################################################

rules: List[cRule] = [
	cRule('A', ['A', 'A', 'A']),
	cRule('A', [(['a'], ['a'])])
]
g1 = cWK_CFG(['A'], ['a'], 'A', rules, [('a', 'a')])
g1.desc = 'a(aa)*'

############################ GRAMMAR 2:   a^n b^n (n>0)    ################################################################################

rules  = [
	cRule('S', [(['a'], []), 'S']),
	cRule('S', [(['a'], []), 'A']),
	cRule('A', [(['b'], ['a']), 'A']),
	cRule('A', [(['b'], ['a']), 'B']),
	cRule('B', [([], ['b']), 'B']),
	cRule('B', [([], ['b'])])
]

g2 = cWK_CFG(['S', 'A', 'B'], ['a', 'b'], 'S', rules, [('a', 'a'), ('b', 'b')])
g2.desc = 'a^n b^n (n>0)'

############################ GRAMMAR 3:   r^n d^n u^n r^n    ##############################################################################

rules = [
	cRule('S', [(['r'], []), 'S']),
	cRule('S', [(['r'], []), 'A']),
	cRule('A', [(['d'], ['r']), 'A']),
	cRule('A', [(['d'], ['r']), 'B']),
	cRule('B', [(['u'], ['d']), 'B']),
	cRule('B', [(['u'], ['d']), 'C']),
	cRule('C', [(['r'], ['u']), 'C']),
	cRule('C', [(['r'], ['u']), 'D']),
	cRule('D', [([], ['r']), 'D']),
	cRule('D', [([], ['r'])])
]

g3 = cWK_CFG(['S', 'A', 'B', 'C', 'D'], ['r', 'd', 'u'], 'S', rules, [('r', 'r'), ('d', 'd'), ('u', 'u')])
g3.desc = 'r^n d^n u^n r^n'

############################ GRAMMAR 4:   a^n c^n b^n    ##################################################################################

rules = [
	cRule('S', [(['a'], []), 'S', (['b'], [])]),
	cRule('S', [(['a'], []), 'A', (['b'], [])]),
	cRule('A', [(['c'], ['a']), 'A']),
	cRule('A', [([], ['c']), 'B', ([], ['b'])]),
	cRule('B', [([], ['c']), 'B', ([], ['b'])]),
	cRule('B', [([], [])])
]

g4 = cWK_CFG(['S', 'A', 'B'], ['a', 'b', 'c'], 'S', rules, [('a', 'a'), ('b', 'b'), ('c', 'c')])
g4.desc = 'a^n c^n b^n'

############################ GRAMMAR 5:   a^n b^m c^n d^m     ##############################################################################

rules = [
	cRule('S', [(['a'], []), 'S']),
	cRule('S', [(['a'], []), 'A']),
	cRule('A', [(['b'], []), 'A']),
	cRule('A', [(['b'], []), 'B']),
	cRule('B', [(['c'], ['a']), 'B']),
	cRule('B', [(['c'], ['a']), 'C']),
	cRule('C', [(['d'], ['b']), 'C']),
	cRule('C', [(['d'], ['b']), 'D']),
	cRule('D', [([], ['c']), 'D']),
	cRule('D', [([], ['d']), 'D']),
	cRule('D', [([], [])])
]

g5 = cWK_CFG(['S', 'A', 'B', 'C', 'D'], ['a', 'b', 'c', 'd'], 'S', rules, [('a', 'a'), ('b', 'b'), ('c', 'c'), ('d', 'd')])
g5.desc = 'a^n b^m c^n d^m'

############################ GRAMMAR 6:   wcw where w in {a,b }*     ######################################################################

rules = [
	cRule('S', [(['a'], []), 'S']),
	cRule('S', [(['b'], []), 'S']),
	cRule('S', [(['c'], []), 'A']),
	cRule('A', [(['a'], ['a']), 'A']),
	cRule('A', [(['b'], ['b']), 'A']),
	cRule('A', [([], ['c']), 'B']),
	cRule('B', [([], ['a']), 'B']),
	cRule('B', [([], ['b']), 'B']),
	cRule('B', [([], [])]),
]

g6 = cWK_CFG(['S', 'A', 'B', 'C'], ['a', 'b', 'c'], 'S', rules, [('a', 'a'), ('b', 'b'), ('c', 'c')])
g6.desc = 'wcw where w in {a,b }*'

############################ GRAMMAR 7:   a^n b^m a^n where 2n <= m <= 3n   ###############################################################

rules = [
	cRule('S', [(['a'], []), 'S', (['a'], ['a'])]),
	cRule('S', [(['a'], []), 'A', (['a'], ['a'])]),
	cRule('A', [(['b', 'b'], ['a']), 'A']),
	cRule('A', [(['b', 'b', 'b'], ['a']), 'A']),
	cRule('A', [([], ['b']), 'B']),
	cRule('B', [([], ['b']), 'B']),
	cRule('B', [([], [])])
]

g7 = cWK_CFG(['S', 'A', 'B'], ['a', 'b'], 'S', rules, [('a', 'a'), ('b', 'b')])
g7.desc = 'a^n b^m a^n where 2n <= m <= 3n'

############################ GRAMMAR 8:   ??? WK CYK    ###################################################################################

rules = [
	cRule('S', ['S', 'S']),
	cRule('S', ['Tua', 'Y1']),
	cRule('Y1', ['Tda', 'Y2']),
	cRule('Y2', ['S', 'Y3']),
	cRule('Y3', ['Tub', 'Tdb']),
	cRule('S', ['Tua', 'S']),
	cRule('S', ['Tua', 'A']),
	cRule('A', ['Tub', 'Y4']),
	cRule('Y4', ['Tda', 'A']),
	cRule('A', ['Tub', 'Y5']),
	cRule('Y5', ['Tda', 'B']),
	cRule('A', ['Tub', 'Tda']),
	cRule('B', ['Tdb', 'B']),
	cRule('B', [([], ['b'])]),
	cRule('B', ['B', 'B']),
	cRule('B', ['Tua', 'Y6']),
	cRule('Y6', ['Tda', 'Y7']),
	cRule('Y7', ['S', 'Y8']),
	cRule('Y8', ['Tub', 'Tdb']),
	cRule('B', ['Tua', 'S']),
	cRule('B', ['Tua', 'A']),
	cRule('Tua', [(['a'], [])]),
	cRule('Tub', [(['b'], [])]),
	cRule('Tda', [([], ['a'])]),
	cRule('Tdb', [([], ['b'])])
]

nts = ['S', 'Y1', 'Y2', 'Y3', 'Y4', 'Y5', 'Y6', 'Y7', 'Y8', 'A', 'B', 'Tua', 'Tub', 'Tda', 'Tdb']
ts = ['a', 'b']
rel = [('a', 'a'), ('b', 'b')]
